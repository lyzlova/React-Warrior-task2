(this["webpackJsonpreact-warrior-task2"]=this["webpackJsonpreact-warrior-task2"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/default-img.f065b10c.png"},21:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAQAAABecRxxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCx4HBjjgBdusAAAUzUlEQVR42u3dfZBV9X3H8c8ua1cUjKigTipWBQUMGEG0qSBgcEyqnTYDiwrWBqvRjFNjm4gzplObSa1O00mVpDRq0gQJqDVrY41O6iPGh1RFjUUErFp2RaSY8QmXp0W2f6zrBdmHc889v/P9/e73/fIPBTnnfO/V876/c+7d3QYNZKRO0Gc0SRN1pBoH/NNADDq0RW16WU/rEa1Ul/U48Wro59+N1hydo/HWIwI1eU0/1c16w3qMOPUVgAm6VmdbDwcUZLsW6xpttB4jPr0F4AQt0Lks91Fn3tPV+hcuB/b0yQA06p91qfVQQCB3a77esR4iJnsGoFk/1nnWIwEBrdaZet16iHjsHoDBuk/TrQcCAmvTFK23HiIWlSv9Jt3J6Q8HjtQvNcx6iFhUAnCtzrIeBijF8bq13zfAHRn00d+/oEU8JXDjWG3SM9ZDxKD7pG/WSo22HgUo0fsaqw3WQ9jrvgS4nNMfzhygv7EeIQbdK4BVGmc9CFCy7TqGDwg3ShrP6Q+HmvUV6xHsNUr6qvUQgIkLuPHdoCHaoKHWYwAmTtB/W49gq1FncfrDrdOtB7DWyFMAx06yHsBaI28AwrEx1gNYa9RO6xEAM0dYD2CtUQdYjwCYcf9/f4O2qdl6CMDMIO2yHsFS48dfDgR45PyTAHznP8AxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMearAeoKx/q13rTeoi6dYpGWo9QfwhAkQZpil7SPfqFnlCX9TB1ZxkBKB6XAEUbp6v0mDbqVrVoiPUwQP8IQBgj9Kf6N23SA/qaftd6GKAvBCCkwZqpG/S6Vul6TfH+HegRIwJQBi4LECkCUB4uCxAdAlA2LgsQEQJghcsCRIAA2OKyAKYIQAy4LIARAhATLgtQMgIQHy4LUBoCECsuC1ACAhA7LgsQEAFIA5cFCIIApITLAhSMAKSIywIUhACki8sC1IwApI7LAtSAANQLLguQAwGoL1wWoCoEoB51Xxa06xldo4nWwyBmBKB+Negk/a2e1RpdpRHWwyBOBKD+Hafr1a4bdaD1IIgPAfChWZdrrebzLgH2RAD8GKF/1R3az3oMxIQA+NKiJ3SE9RCIBwHw5rNazi1B9CAA/hyte7W/9RCIAwHw6CQtsR4BcSAAPn1J86xHQAwIgFc36BDrEWCPAHh1iL5lPQLsEQC/5utg6xFgjQD4NVgXWo8AawTAs0utB4A1AuDZ0RplPQJsEQDfplsPAFsEwLdp1gPAFgHwbbT1ALBFAHwbbj0AbBEA3wiAcwTAt6EaZD0CLBEA7/gmYa4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGNN1gMAGe0KsM+uAvc6WJM1TqM0VMPUoS1ap5f1lDaW9wTlQQCQig+C7LOrgL0cpBadoz9Qcy//bo3u0jKtCvzc5MYlAFLxbpT7PEIL1a4faEavp780RlfrRT2g04M+N7kRAKTi1QD7fKWmrZv111qjv9D+A/7JmXpIP9dRgZ6ZGhAApGJ1gH2uqWHbY/VrfVv7Zf7zf6wXdH6Ax1ATAoBUrNDWwvf5WO4tZ2qFTqxym6Faon+K65yLahigH9v0ZMF73KVHcm45S/dqaK4tr9CSmG69EwCk446C97c855t0M7RUv5P7qHN1u/Yp+JHkRgCQjju1pdD93Zprq9H6eR93/LOapaWxrAIIANLxrm4pcG/rdVuOrZp1uw6o+dgtWhZHAggAUvKdAtcA12lHjq0WaGIhR2+J40KgQZ1xlAhG9tFO6xGqcrWuLWQ/KzUxxyM/QmuqeONvIHdqrvWzzwoAaflHPV/AXnbowlyn3oICT/8oVgEEAGnZoTl6v+a9XKkVObY6SPMLfjTmtwMJAFLziv5E22vaw01amGu7lgwf+q1+n6arAAKA9Dyieblu4HVbqstybnlOkEdjugrgJqB3qd0E7DFTrbnejvuuvpHzS4D31TvaN9CjadV56gy0736xAkCaHtQEPVXlNps1V1/P/R0ATg52+huuAggAUtWmqbqiim8T8gtNyPXRnx7jgj4ao3sBBADp6tSNGquFGb5K8CFN1x9pXU1HOzrwozFZBRAApG29vqZP61I90sc7Ay/peh2vmXq05iMNC/5YDFYB3AT0LtWbgHsbrMkaq2P0KQ1Thz5Qu9bqGb1Z2P6Xam4Jj6LkTwdy8qNebNWv9KuA+8//xmM1WtRY5jsCXAIA2Wwu6Til3gsgAEA27aUdqcR7AQQAyGZticcqbRVAAIBsnirkh4hkVdIqgAAA2Wyq6ZuIV6+UVQABALJqLfl4JawCCACQ1bJSLwKkElYBBADIarXuL/2YgVcBBADI7jqDYwZdBRAAILtHS78PIAVdBfC1AN7Vz9cClGOkXtCBBscN9DUCrACAarTrIpPjBloFEACgOq0mdwIC3QvgEsA7LgGq16Af6kKTIxd+IcAKAKhWly7WYpMjF34hQACA6u3ShUYJmKXbikwAAQDyqJMEEAAgn7pIAAEA8qqDBBAAIL/kE0AAgFokngACANQm6QQQAKBWCSeAAAC1SzYBBAAoQqIJIABAMZJMAAEAipJgAggAUJzkEkAAgCIllgACABQrqQQQAKBoCSWAAADFSyYBBAAIIZEEEAAgjCQSQACAUBJIAAEAwok+AQQACCnyBBAAIKyoE0AAgNAiTgABAMKLNgEEAChDpAng5wKifI0arwk6TsM11NX/gYPUGeIn/A5olpb29TMFPT39sNekM3W+ztDB1oM40yL1ngACgLIM1kX6hkZaj+FUHwkgACjH2Vqoo6yHcK3XBHATEOHtqxt1D6e/uV5+uHiDOlkFuLZP7zeHCnSY7tOJ1g8TH7lzz1UAJz/COlIP6RjrIfCxFnVprj7s+SWXAAjpEP2S0z8yc7So8gsCgHCa1Kox1kNgL1/R5T3/SAAQzjU6zXoE9Oofeu7KcBPQu3A3AY/X8yafe0MWz+lkfcgKAOF8j9M/YhM1X2IFgFArgNP0qPVDQ7/aNUqdrAAQxtetB8AARmo2lwAIY4S+aD0CBnQBAUAYs7j+T8BMHUwAEMLnrQdABk2aRgAQwqnWAyCTqQQAxTtQh1mPgEzGEAAUb5T1AMhoFAFA8Q60HgAZDSMAKN5+1gMgo/0JAIq3w3oAZLSdAKB4m60HQEbvEwAUr916AGTURgBQvPXqsB4BmfwPAUDxurTCegRk8l8EACE8bD0AMllOABDCXdYDIIPVepkAIIQX9YL1CBjQT/lyYITyPesBMIAtuoUAIJQlvBkYuZv1FgFAKDu0wHoE9ONtXSsRAIRzh/7TegT06Sr9VuK7AiPkDwcdod/ocOsHiF60anb3P7ACQDibNEdbrYfAXlbqop5/JAAI6XGdp07rIbCHdfqi3u35BQFAWHfrD/nqwIi06/N6o/JLAoDQHtQ0vWI9BCRJbZqu13b/DQKA8J7XJN2sXdZjuNemGfrfPX+LAKAM7+sSfU4PWo/hWi+nP28DIuTbgHs7WRephW8aaqDX058AoNwASFKzTtEMjddxOlRDNNj6CXChj9OfAKD8APjVomUmZ1u7Zux566+CewBAOSI8/QkAUI4oT38CAJQh0tOfAADhRXv6EwAgtIhPfwIAhBX16U8AgJAiP/0JABBO9Kc/AQBCSeD0JwBAGEmc/gQACCGR058AAMVL5vQnAEDRZqdz+hMAoFizdVs6pz8BAIqU2OlPAIDiJHf6EwCgKAme/gQAKEaSpz8BAIqQ6OlPAIDaJXv6EwCgVgmf/gQAqE3Spz8BAGqR+OlPAID8kj/9CQCQVx2c/gQAyKcuTn8CAOTRYnT6t2l6kac/AQCqN0NLjF79T+/9R3zmxw8H9Y4fDlqtY7VCQw2O2+dP+K0FKwCgGs26vX5OfwIAVGeBTjQ4aoDFfzcuAbzjEqAaI7Va+5V+1ECv/hIrAKAaVxqc/sFe/SVWAGAFkN1Ber30ALRputaF2z0rACCrOaWf/u06PeTpL179gczmlHy8wK/+EpcA4BIgq8F6R80lHq/gD/32jpMfyGZyqad/Ca/+EvcAgKzGlXis4Nf+PVgBANkcXdqRSnr1l1gBAFkNK+k4pb36S6wAUF8O1mgN0TB1qEPtatOuAvddzluAJb76SwQA9eFQzdbpmqrhe/zuNj2rh/UfWlHIMXaU8DhKffXv1qku/nL8V/ovAdN0zwD/F6/SV7VvzcdZGPy/xTr9XtlPHvcAkLLxWq7lOnuAjI3TIr2mC9RQ07HaAz8Wg1d/AoB0Nenbek7TMv7pw7VYD+nTNRxvbdBH06Zp4T/2szc+Cehdqp8EPEStOq3qrd7SuXo45xFHaGONa4i+lfKpv96wAkCKRuqxHKe/NFz35f5E/yatCfRojF79JQKAFA3X/RqTc9tmLdOsnNu2Bnk0Jtf+PbgE8C69S4B99bgm1bSHrZqup3NsN1arCr8IKPl9/09iBYDU3FDj6S8N1s90cI7tVuv+gh+L6au/RACQmi/okgL2coS+m2u76wp9LIbX/j24BPAurUuAZr2oUYXsqUvT9FiO7X6W+w7CJ5nd+d8dKwCk5MKCTn+pQX+Xa7u/0ruFHD+CV3+JACAlg3RlgXs7TVNybNWuiwo4tvm1fw8CgHScoaMK3d+f59qqteY7AZG8+ksEACmZV/D+Zmlwru2+qR/VcNR1tm/87YkAIBUNOqPgPQ7Vqbm269LF+k7OY67S1HhOfwKAdIzToYXvc3rO7bq0QJdpW9Xb3aVTtb7wR1EDAoBUTAiwz/E1bLtIn9NzVfz5d3SpZum9AI+iBgQAqTg2wD6Pq2nr32iyLsn0fQK2aZGO001BnpeaEACkYnjtu9jLiBq336WbNUrn6wF92OefeVnf0lG6TG8FfXZy4lOASMWQAPscWsA+OrVUSzVc0zRF43S0DtIB6lCH2rRWT+tRrSr7iaoGHwX2Lp2PAi/TeQH22tTPa7cDXAIAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAMQIAOEYAAMcIAOAYAQAcIwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACONVkPAGOz9aH1CBmNtB6gHjWokwjAsaZkAhgElwCAYwQAcIwAAI4RAMAxAgA4RgAAxwgA4BgBABwjAIBjBABwjAAAjhEAwDECADhGAADHCADgGAEAHCMAgGMEAHCMAACOEQDAsUZ1Wo8AmNnp+1uCSo3qsB4BMLPZegBrjXrTegTAzCbrAaw16jXrEQAza60HsNaoZ61HAMystB7AWqMetx4BMPOI9QDWGrSP/k/DrMcADGzWCG2zHsJWozp1l/UQgIlW76d/9weBbrIeAjBxi/UA9holPaOHrMcASrdcT1qPYK9BknSKnuRDwXClS1MIgDRIkvSGhuhU61GAEv1E37ceIQYNH/29WU9rgvUwQEnadaLeth4iBj0L/+26gK8KgBNbNIvTv1vlyv8FnaOd1uMAwe3UuVphPUQsdr/1d69ma7v1QEBQ23We7rEeIh4Nn/j1FN2pw6yHAgLZpDl61HqImHzyzb/HNUn3WQ8FBPGgTuT039Pe7/5v0Fmaq3XWgwGFWq95OkMbrMeITUMfv9+sebpcJ1iPBxRglb6vH3N/qzcN/f7b4/UlzdDvaz/rMYEctupZPay79Zz1IPFqyPBnBmmsJmmSJumzpKDunKtd1iME0KEP1K72unxshcoSgIpBGvNxCva3Hh2FaPL+fXF9qy4AFaSgXhAA1/IGoIIUpI0AuFZ7ACpIQYoIgGtFBqCCFKSDALgWJgAVpCB2BMC10AGoIAVxIgCulReAClIQEwLgmkUAKkiBPQLgmm0AKkiBFQLgWiwBqCAF5SIArsUXgApSUAYC4FrMAaggBeEQANfSCEAFKSgaAXAttQBUkIJiEADX0g1ABSmoBQFwrR4CUEEKqkcAXKuvAFSQgqwIgGv1GoAKUtA/AuBa/QegghT0hgC45ikAFXyb092fC75xpmM+A1DhfVWw1X0AnfMegAqfKdiow61HgCUCsDdPFwgrNNl6BFgiAP2p/1XBYn3ZegRYIgDZ1Ouq4ArdaD0CLBGAatXXqmCM1lqPAEsEIL/0VwWvaLT1CLBFAIqQ6qrgm/p76xFgiwAUK6VVwQ4dqY3WQ8AWAQgl/lXBDfpL6xFgjQCEF+eq4F2N1m+th4A1AlCmmFYFX9Zi66cD9giADetVQatmWz8FiAEBsGaxKlipqXrP+oEjBgQgHmWtCl7Vadpg/WARBwIQo5CrglU6U29YP0DEggDErehVwb9rPot/ID2D9Bn9mRbqCXWoK9dfb+tigg+kLk8KtmmhDrUeHPHhFSFl2S4QXtVP9CO9aT0sYkQA6kN3CiZqrEbrUxqmLdqsNr2sp/SwXrIeDvH6f88DIkHczKaPAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTMwVDA3OjA2OjU2KzAwOjAwblCw1AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0zMFQwNzowNjo1NiswMDowMB8NCGgAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},23:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),A=a(11),s=a.n(A),o=a(9),c=a(3),i=a(4),l=a(6),g=a(5),u=a(7),p=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.onChangeFilters,n=e.options;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"sort_by"},"Sort By"),r.a.createElement("select",{className:"form-control",id:"sort_by",name:"sort_by",value:t,onChange:a},n.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}}]),t}(r.a.Component);p.defaultProps={options:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"popularity.asc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"popularity.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"vote_average.asc"}]};var m=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.year,a=e.onChangeFilters,n=[],A=(new Date).getFullYear();1899!==A;A-=1)n.push(A);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"year"},"Year"),r.a.createElement("select",{className:"form-control",id:"year",name:"year",value:t,onChange:a},n.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}}]),t}(r.a.Component),d=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.onChangePage,n=e.resetValue,A=(e.pageSize,e.totalCount);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-group btn-group-style"},r.a.createElement("button",{type:"button",className:"btn btn-light",disabled:1===t,onClick:a.bind(null,t-1)},"Previous"),r.a.createElement("span",{className:"btn"},t," of ",A),r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:a.bind(null,t+1)},"Next")),r.a.createElement("button",{type:"reset",className:"btn btn-primary btn-reset",onClick:n},"Reset value"))}}]),t}(r.a.Component),h="https://api.themoviedb.org/3",C="3f4ca4f3a9750da53450646ced312397",b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){fetch(e,t).then((function(e){if(e.status<400)return e.json();throw e})).then((function(e){a(e)})).catch((function(e){e.json().then((function(e){n(e)}))}))}))},E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).getGenreMovies=function(){var t="".concat(h,"/genre/movie/list?api_key=").concat(C,"&language=en-US");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({genreMovies:t.genres})}))},e.onClickGenre=function(e){var t=document.getElementById("checkbox"),a=document.getElementById("option-genres");t.style.display="block",a.style.display="none"},e.state={genreMovies:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getGenreMovies()}},{key:"render",value:function(){var e=this.props,t=e.genre,a=e.onChangeGenre;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{id:"genre",name:"genre",value:t,onChange:a,onClick:this.onClickGenre},r.a.createElement("label",{htmlFor:"genre"},"Genres"),r.a.createElement("div",{className:"form-control form-genres"},r.a.createElement("option",{id:"option-genres",value:""},"Filter by genres..."),r.a.createElement("div",{id:"checkbox",className:"checkbox"},this.state.genreMovies.map((function(e){return r.a.createElement("div",{className:"block-genres",key:e.id},r.a.createElement("input",{className:"input-genres",type:"checkbox",id:e.id,value:e.id,name:"genre"}),r.a.createElement("label",{className:"label-genres",htmlFor:e.id,value:e.id},e.name))})))))))}}]),t}(r.a.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,a=t.sort_by,n=t.year,A=t.genre,s=e.onChangeFilters,o=e.onChangeGenre,c=e.page,i=e.onChangePage,l=e.resetValue,g=e.pageSize,u=e.totalCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"mb-3 form-filters"},r.a.createElement(p,{sort_by:a,onChangeFilters:s}),r.a.createElement(m,{year:n,onChangeFilters:s}),r.a.createElement(E,{genre:A,onChangeGenre:o}),r.a.createElement(d,{page:c,onChangePage:i,resetValue:l,pageSize:g,totalCount:u})))}}]),t}(r.a.Component),f=a(20),v=a.n(f),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,A=new Array(n),s=0;s<n;s++)A[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(A)))).getOverviewContext=function(e){return e.length>210?r.a.createElement("p",{className:"clip"},e.slice(0,210)+"..."):r.a.createElement("p",{className:"clip"},e)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("img",{className:"card-img-top card-img--height",src:e.backdrop_path&&e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.backdrop_path||e.poster_path):v.a,alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("span",{className:"release-date"},e.release_date),r.a.createElement("div",{className:"card-text"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",e.vote_average),r.a.createElement("div",{className:"overview"},this.getOverviewContext(e.overview)),r.a.createElement("p",{className:"view_more"},r.a.createElement("a",{id:"",className:"result",href:""},"More Info"))))}}]),t}(r.a.Component),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).getMovies=function(t,a){var n=t.sort_by,r=t.year,A=t.genre,s="".concat(h,"/discover/movie?api_key=").concat(C,"&language=en-US&sort_by=").concat(n,"&page=").concat(a,"&primary_release_year=").concat(r,"&with_genres=").concat(A);fetch(s).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.state={movies:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getMovies(this.props.filters,this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.filters.sort_by!==e.filters.sort_by&&(this.getMovies(this.props.filters,1),this.props.onChangePage(1)),this.props.filters.year!==e.filters.year&&(this.getMovies(this.props.filters,this.props.page),this.props.onChangePage(this.props.page)),this.props.filters.genre!==e.filters.genre&&(this.getMovies(this.props.filters,this.props.page),this.props.onChangePage(this.props.page)),this.props.page!==e.page&&this.getMovies(this.props.filters,this.props.page)}},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",{className:"row"},e.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-6 mb-4"},r.a.createElement(B,{item:e}))})))}}]),t}(r.a.Component),O=(a(28),a(43)),I=a(42);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).onSubmit=function(){e.setState({submitting:!0}),b("".concat(h,"/authentication/token/new?api_key=").concat(C)).then((function(t){return b("".concat(h,"/authentication/token/validate_with_login?api_key=").concat(C),{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({username:e.state.username,password:e.state.password,request_token:t.request_token})})})).then((function(e){return b("".concat(h,"/authentication/session/new?api_key=").concat(C),{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({request_token:e.request_token})})})).then((function(t){return e.props.updateSessionId(t.session_id),b("".concat(h,"/account?api_key=").concat(C,"&session_id=").concat(t.session_id))})).then((function(t){e.props.updateUser(t),e.setState({submitting:!1})})).catch((function(t){e.setState({submitting:!1,errors:{base:t.status_message}})}))},e.onChange=function(t){var a="checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState((function(e){var t;return Q({},e,(t={},Object(o.a)(t,n,a),Object(o.a)(t,"errors",Q({},e.errors,Object(o.a)({base:null},n,null))),t))}))},e.validateFieds=function(t){var a={};return"username"===t&&""===e.state.username&&(a.username="Not empty"),"password"===t&&""===e.state.password&&(a.password="Not empty"),"repeatpassword"===t&&""===e.state.repeatpassword&&(a.repeatpassword="Not empty"),!e.state.username&&e.state.password&&(a.username="Input username"),e.state.password&&e.state.repeatpassword&&e.state.password!==e.state.repeatpassword&&(a.repeatpassword="The password does not math"),a},e.onLogin=function(t){t.preventDefault();var a=e.validateFieds();Object.keys(a).length>0?e.setState((function(e){return{errors:Q({},e.errors,{},a)}})):e.onSubmit()},e.handleBlur=function(t){var a=t.target.name,n=e.validateFieds(a);Object.keys(n).length>0&&e.setState((function(e){return{errors:Q({},e.errors,{},n)}}))},e.state={username:"",password:"",repeatpassword:"",errors:{username:null,password:null,repeatpassword:null},submitting:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.repeatpassword,A=e.errors,s=e.submitting;return r.a.createElement("div",{className:"form-login-container"},r.a.createElement("form",{className:"form-login"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal text-center"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Login"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Login",name:"username",value:t,onChange:this.onChange,onBlur:this.handleBlur}),A.username&&r.a.createElement("div",{className:"invalid-feedback"},A.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",name:"password",value:a,onChange:this.onChange,onBlur:this.handleBlur}),A.password&&r.a.createElement("div",{className:"invalid-feedback"},A.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"repeatpassword"},"Repeat password"),r.a.createElement("input",{type:"password",className:"form-control",id:"repeatpassword",placeholder:"Repeat password",name:"repeatpassword",value:n,onChange:this.onChange,onBlur:this.handleBlur}),A.repeatpassword&&r.a.createElement("div",{className:"invalid-feedback"},A.repeatpassword)),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block",onClick:this.onLogin,disabled:s},"\u0412\u0445\u043e\u0434"),A.base&&r.a.createElement("div",{className:"invalid-feedback text-center"},A.base)))}}]),t}(r.a.Component),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.state={showModal:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateUser,a=e.updateSessionId;return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.toggleModal},"Login"),r.a.createElement(O.a,{isOpen:this.state.showModal,toggle:this.toggleModal},r.a.createElement(I.a,null,r.a.createElement(D,{updateUser:t,updateSessionId:a}))))}}]),t}(r.a.Component),M=a(21),k=a.n(M),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout;return r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{width:"40",height:"40",className:"rounded-circle",src:"https://secure.gravatar.com/avatar/".concat(t.avatar.gravatar.hash,'.jpg?s=40"'),alt:""}),r.a.createElement("img",{className:"logout",srcSet:k.a,alt:"logout",onClick:a}))}}]),t}(r.a.Component),H=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.updateUser,n=e.updateSessionId,A=e.logout;return r.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link"},"Home"))),t?r.a.createElement(F,{user:t,logout:A}):r.a.createElement(N,{updateUser:a,updateSessionId:n})))}}]),t}(r.a.Component);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=new(a(22).a),G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).updateUser=function(t){e.setState({user:t})},e.updateSessionId=function(t){q.set("session_id",t,{path:"/",maxAge:2592e3}),e.setState({session_id:t})},e.logout=function(){var t=q.get("session_id");b("".concat(h,"/authentication/session?api_key=").concat(C,"&session_id=").concat(t),{method:"DELETE"}).then(e.setState({user:null,session_id:null}),q.remove("session_id",{path:""})).catch((function(){return console.log("error")}))},e.onChangeFilters=function(t){var a=P({},e.state.filters,Object(o.a)({},t.target.name,t.target.value));e.setState({filters:a})},e.onChangeGenre=function(t){var a=P({},e.state.filters,Object(o.a)({},t.target.name,t.target.value));e.setState({filters:a})},e.onChangePage=function(t){e.setState({page:t})},e.resetValue=function(){e.setState({filters:{sort_by:"popularity.desc",year:2019,genre:""},page:1,pageSize:20,totalCount:1e4});var t=document.getElementById("checkbox"),a=document.getElementById("option-genres");t.style.display="none",a.style.display="block"},e.state={user:null,session_id:null,filters:{sort_by:"popularity.desc",year:2019,genre:""},page:1,pageSize:20,totalCount:1e4},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=q.get("session_id");if(!t)return null;b("".concat(h,"/account?api_key=").concat(C,"&session_id=").concat(t)).then((function(t){e.updateUser(t)}))}},{key:"render",value:function(){var e=this.state,t=e.filters,a=e.page,n=e.pageSize,A=e.totalCount,s=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{user:s,updateUser:this.updateUser,updateSessionId:this.updateSessionId,logout:this.logout}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"),r.a.createElement(w,{page:a,filters:t,onChangeFilters:this.onChangeFilters,onChangeGenre:this.onChangeGenre,onChangePage:this.onChangePage,resetValue:this.resetValue,pageSize:n,totalCount:A})))),r.a.createElement("div",{className:"col-8"},r.a.createElement(j,{page:a,filters:t,onChangePage:this.onChangePage})))))}}]),t}(r.a.Component);a(38),a(39);s.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.521f25a6.chunk.js.map